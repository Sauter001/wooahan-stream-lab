# Stream Lab ê¸°íš í”„ë¡œê·¸ë ˆìŠ¤

> 2025-11-22 ê¸°ì¤€ ë…¼ì˜ëœ ê¸°íš ë‚´ìš© ì •ë¦¬

---

## 1. ìƒíƒœ íë¦„ (FSA)

```mermaid
graph LR
    INTRO --> PROFILE
    PROFILE -->|ì‹ ê·œ í”„ë¡œí•„| TUTORIAL
    PROFILE -->|ê¸°ì¡´ í”„ë¡œí•„| MAIN
    TUTORIAL --> MAIN
    MAIN -->|play| LEVEL
    MAIN -->|exit| EXIT
    LEVEL -->|main| MAIN
    LEVEL -->|Secret í•´ê¸ˆ| SECRET
```

### Profile ìƒíƒœ
- ì‹ ê·œ ì‚¬ìš©ì: ì´ë¦„ ì…ë ¥ â†’ íŠœí† ë¦¬ì–¼ ìŠ¤í‚µ ì—¬ë¶€ ì„ íƒ
- ê¸°ì¡´ ì‚¬ìš©ì: ë°”ë¡œ MAINìœ¼ë¡œ ì§í–‰
- `data/profile.json`ì— ì €ì¥

### Profile ë°ì´í„° êµ¬ì¡°
```json
{
  "userName": "ì‚¬ìš©ìì´ë¦„",
  "tutorialSkipped": false,
  "levelDialogueShown": {"level1": true, "level2": false},
  "passedLevels": [1],
  "currentLevel": 2,
  "secretUnlocked": false
}
```

---

## 2. Level ì‹œìŠ¤í…œ

### ë ˆë²¨ ì§„ì… íë¦„
1. MAINì—ì„œ `play` ì»¤ë§¨ë“œ
2. `currentLevel` í™•ì¸, passedëœ ë ˆë²¨ì€ ìŠ¤í‚µ
3. ì²« ë°©ë¬¸ ì‹œ ì§„í–‰ì dialogue ì¶œë ¥ (ì´í›„ ì¶œë ¥ ì•ˆ í•¨)
4. í•™ìŠµ ëª©í‘œ í‘œì‹œ
5. ë¬¸ì œ ëª©ë¡ ì¶œë ¥ (JSONì—ì„œ ë¡œë“œ)
6. íŒŒì¼ ê°ì‹œ ëŒ€ê¸°

### ë ˆë²¨ ì§„í–‰ ì¤‘ ì»¤ë§¨ë“œ
- `ì—´ê¸°` / `open`: í•™ìŠµ ëª©í‘œ ë‹¤ì‹œ ë³´ê¸°
- `m` / `main`: ë©”ì¸ ë©”ë‰´ë¡œ ë³µê·€

### ë ˆë²¨ë³„ í•™ìŠµ ëª©í‘œ

| Level | ì£¼ì œ | í•µì‹¬ ë©”ì„œë“œ |
|-------|------|-------------|
| 1 | ê¸°ë³¸ ì—°ì‚° | filter, map, collect, sorted, limit, distinct |
| 2 | ì¤‘ê¸‰ ë©”ì„œë“œ | flatMap, skip, groupingBy, averagingInt |
| 3 | Collectors ì‹¬í™” | ì¤‘ì²© groupingBy, partitioningBy, toMap |
| 4 | ê³ ê¸‰ ë¬¸ì œ | ë³µí•© ì—°ì‚°, ì»¤ìŠ¤í…€ Comparator |
| 5 | Expert | ì»¤ìŠ¤í…€ Collector, ì•Œê³ ë¦¬ì¦˜ ë¬¸ì œ |

---

## 3. Secret Phase ì§„ì… ì‹œìŠ¤í…œ

### ì»¨ì…‰
- **Bomb Lab ê°ì„±**: ìˆ¨ê²¨ì§„ íŒíŠ¸ë¥¼ ë°œê²¬í•´ì•¼ ì§„ì… ê°€ëŠ¥
- ê° ë‹¨ê³„ ì™„ë£Œ ì‹œ "ì‹œìŠ¤í…œ ì½”ë“œ" (hex ê°’) ì¶œë ¥
- 7ê°œ hexë¥¼ ëª¨ì•„ ë””ì½”ë”©í•˜ë©´ ì§„ì… ë°©ë²• íŒíŠ¸

### Hex íŒíŠ¸ ì‹œìŠ¤í…œ

| ë‹¨ê³„ | Hex ì½”ë“œ | ë””ì½”ë”© |
|------|----------|--------|
| INTRO | `0x646F4E6F` | "doNo" |
| TUTORIAL | `0x74546F75` | "tTou" |
| Level 1 | `0x63682D3E` | "ch->" |
| Level 2 | `0x66696228` | "fib(" |
| Level 3 | `0x37295B31` | "7)[1" |
| Level 4 | `0x2C312C32` | ",1,2" |
| Level 5 | `0x2C332C355D` | ",3,5]" |

**ì¡°í•© ê²°ê³¼**: `doNotTouch->fib(7)[1,1,2,3,5]`

### í•´ê¸ˆ ì¡°ê±´
Level5 ì¸í„°í˜ì´ìŠ¤ì˜ ìˆ¨ê²¨ì§„ ë©”ì„œë“œ:

```java
// ì‹œìŠ¤í…œ ìœ ì§€ë³´ìˆ˜ìš© - ê±´ë“œë¦¬ì§€ ë§ˆì„¸ìš”
default List<Integer> doNotTouch() {
    return List.of();
}
```

í”¼ë³´ë‚˜ì¹˜ ìˆ˜ì—´ 7í•­ `List.of(1, 1, 2, 3, 5, 8, 13)` ë°˜í™˜ ì‹œ Secret Phase í•´ê¸ˆ

### í•´ê¸ˆ ì‹œ ì—°ì¶œ
```
â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ
â–ˆ                                    â–ˆ
â–ˆ   â–‘â–‘â–‘ HIDDEN SEQUENCE DETECTED â–‘â–‘â–‘ â–ˆ
â–ˆ                                    â–ˆ
â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ

ğŸ”“ Secret Phase í•´ê¸ˆ
```

---

## 4. í…ŒìŠ¤íŠ¸ ë°ì´í„° êµ¬ì¡°

### ìœ„ì¹˜
```
data/test-data/
â”œâ”€â”€ tutorial/tutorial.json
â”œâ”€â”€ level1/level1.json
â”œâ”€â”€ level2/level2.json
â””â”€â”€ ...
```

### JSON êµ¬ì¡°
```json
{
  "level": 1,
  "masterData": {
    "students": [...],
    "products": [...],
    "characters": [...],
    "items": [...],
    "guilds": [...]
  },
  "problems": [
    {
      "id": "1-1-1",
      "name": "ë¬¸ì œ ì´ë¦„",
      "description": "ë¬¸ì œ ì„¤ëª…",
      "methodName": "ë©”ì„œë“œëª…",
      "inputType": "students",
      "outputType": "List<String>",
      "testCases": [...]
    }
  ]
}
```

---

## 5. ì•„í‚¤í…ì²˜ ê²°ì •ì‚¬í•­

### State + Handler íŒ¨í„´
- `GameState` enum: ìƒíƒœ ì •ì˜ ë° ì „ì´
- `StateHandler` interface: ê° ìƒíƒœë³„ ë¡œì§
- `HandlerConfig`: íŒ©í† ë¦¬ë¡œ Handler ìƒì„±

### ì˜ì¡´ì„± ë¶„ë¦¬
- HandlerëŠ” í•„ìš”í•œ ì˜ì¡´ì„±ë§Œ ì£¼ì…ë°›ìŒ
- Profileê³¼ GameContext ë…ë¦½ ìœ ì§€
- Repository íŒ¨í„´ìœ¼ë¡œ ë°ì´í„° ì ‘ê·¼ ë¶„ë¦¬

### ValidationResult ì„¤ê³„
- `sealed interface` + `record`ë¡œ íƒ€ì… ì•ˆì „ì„± í™•ë³´
- Haskell Either Monad íŒ¨í„´ ì ìš©
- Railway Oriented Programming ì§€ì›

---

## 6. ë¯¸êµ¬í˜„ í•­ëª©

### í•µì‹¬ ê¸°ëŠ¥
- [ ] LevelGraderObserver (Levelìš© ì±„ì )
- [ ] ë ˆë²¨ ì™„ë£Œ íŒì • ë¡œì§
- [ ] MainHandler í”„ë¡œí•„ ì—°ë™ (Mock ì œê±°)
- [ ] Secret Phase ì „ì²´

### ë¶€ê°€ ê¸°ëŠ¥
- [ ] ì—…ì  ì‹œìŠ¤í…œ
- [ ] íŒíŠ¸ ì‹œìŠ¤í…œ
- [ ] ì ìˆ˜/ë³´ë„ˆìŠ¤ ê³„ì‚°
- [ ] ì‹œì‘ ì‹œ ê¸°ì¡´ ì½”ë“œ ìŠ¤ìº”

### ì˜ˆì™¸ ì²˜ë¦¬
- [ ] ì´ë¦„ 20ì ì´ˆê³¼ ê²€ì¦
- [ ] íŒŒì¼ íŒŒì‹± ì‹¤íŒ¨ ì²˜ë¦¬
- [ ] ì»´íŒŒì¼ ì—ëŸ¬ ì²˜ë¦¬

---

## 7. ë¬¸ì„œ ëª©ë¡

| ë¬¸ì„œ | ì„¤ëª… |
|------|------|
| `docs/ê¸°ëŠ¥ëª…ì„¸.md` | ì „ì²´ ê¸°ëŠ¥ ì²´í¬ë¦¬ìŠ¤íŠ¸ |
| `docs/ê¸°íš-í”„ë¡œê·¸ë ˆìŠ¤.md` | ê¸°íš ë…¼ì˜ ë‚´ìš© (ë³¸ ë¬¸ì„œ) |
| `docs/study/2025-11-22-ValidationResult-ì„¤ê³„.md` | sealed+record ì„¤ê³„ ì´ìœ  |
| `docs/study/2025-11-13-ì˜ì¡´ì„±-ì£¼ì…-ë¬¸ì œ-í•´ê²°.md` | DI ë¬¸ì œ í•´ê²° ê³¼ì • |
