# Secret Phase 진입 방식 결정


## 기획 배경

Secret Phase는 Level 1~5를 모두 클리어한 플레이어에게 주어지는 숨겨진 도전 과제.
단순히 "Level 5 클리어하면 해금"이 아니라, **CMU Bomb Lab 감성**을 살려 발견의 재미를 주고 싶음.

Bomb Lab에서는:
- phase_4를 분석하다가 이상한 점 발견
- 특정 조건 만족 시 secret_phase 호출
- "어? 이게 뭐지?" 하는 순간이 있음

---

## 검토한 후보들

### 후보 1: 숨겨진 테스트 케이스

```json
{
  "testCases": [
    { "input": [1,2,3], "expected": 6 },
    { "hidden": true, "input": "???", "expected": "???" }
  ]
}
```

정상적으로 풀면 2/3인데, 특정 방식으로 작성하면 3/3.

**기각 이유**: 우연히 통과할 수 있음. 의도적 발견이 아님.

---

### 후보 2: 매직 넘버 방식

반환값의 합이 특정 값(1337, 42 등)이면 해금.

**기각 이유**: 너무 작위적임. 힌트 제공이 어색함.

---

### 후보 3: unlock(String code) 메서드

Level 5에 설명 없는 메서드 존재:

```java
/** ??? */
String unlock(String code);
```

다른 문제 정답 패턴을 조합하면 코드를 알 수 있음.

**기각 이유**: 메서드 시그니처가 너무 수상함. 힌트 연결이 복잡함.

---

### 후보 4: Base64 힌트

Level 5 완료 시 이상한 문자열 출력:

```
"U2VjcmV0LnVubG9jaygi..."
```

디코딩하면 힌트.

**기각 이유**: 단일 힌트로는 Bomb Lab 감성 부족. 점진적 발견이 없음.

---

### 후보 5: defuse 패턴 (주석에 hex)

```java
// 시스템 점검용 - 무시하세요
// default void systemCheck() { /* 0x666C61744D6170 */ }
```

**부분 채택**: hex 아이디어는 좋으나, 주석만으로는 발견 확률 낮음.

---

### 후보 6 (최종): 7단계 Hex 힌트 시스템

각 단계(INTRO, TUTORIAL, Level 1~5) 완료 시 "시스템 코드" 출력.

```
Level 1 완료!
시스템 코드: 0x63682D3E
```

7개를 모아 디코딩하면 `doNotTouch->fib(7)[1,1,2,3,5]` 힌트.

Level5의 `doNotTouch()` 메서드에서 피보나치 수열 반환 시 해금.

---

## 최종 결정

**후보 6 채택**

### 이유

1. **점진적 발견**: 처음엔 무시하다가 "이거 뭐지?" 하는 순간
2. **노력 보상**: 7개 모아서 디코딩하는 과정 자체가 퍼즐
3. **Bomb Lab 감성**: 코드 분석 → 힌트 발견 → 조건 충족
4. **자연스러운 힌트**: 매 단계 "시스템 코드"로 위장
5. **명확한 정답**: 피보나치 수열은 검증 가능

### 구현 요약

| 단계 | Hex | 디코딩 |
|------|-----|--------|
| INTRO | `0x646F4E6F` | "doNo" |
| TUTORIAL | `0x74546F75` | "tTou" |
| Level 1 | `0x63682D3E` | "ch->" |
| Level 2 | `0x66696228` | "fib(" |
| Level 3 | `0x37295B31` | "7)[1" |
| Level 4 | `0x2C312C32` | ",1,2" |
| Level 5 | `0x2C332C355D` | ",3,5]" |

**조합**: `doNotTouch->fib(7)[1,1,2,3,5]`

**해금 조건**: `doNotTouch()`에서 `List.of(1, 1, 2, 3, 5, 8, 13)` 반환

---

## 대안 고려사항

만약 너무 어렵다면:
- Level 5 완료 시 "모든 시스템 코드를 확인해보세요" 힌트 추가
- hex 디코더 링크 제공

만약 너무 쉽다면:
- hex 대신 다른 인코딩 (ROT13, 커스텀 등)
- 힌트 문장을 더 cryptic하게
